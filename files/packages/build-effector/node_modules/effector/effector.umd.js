((e,t)=>{'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t((e=e||self).effector={})})(this,e=>{function t(e,t="combine"){let r=t+'(',a='',n=0;for(let t in e){let o=e[t];if(null!=o&&(r+=a,r+=p(o)?o.compositeName.fullName:o.toString()),n+=1,25===n)break;a=', '}return r+=')',r}function r(e,t){let r,a,n,o=e;return t?(n=t.compositeName,0===e.length?(r=n.path,a=n.fullName):(r=n.path.concat([e]),a=0===n.fullName.length?e:n.fullName+'/'+e)):(r=0===e.length?[]:[e],a=e),{shortName:o,fullName:a,path:r}}function a({node:e=[],from:t,source:r,parent:a=t||r,to:n,target:o,child:l=n||o,scope:s={},meta:i={},family:f={type:'regular'}}){let c=te(a),p=te(f.links),u=te(f.owners),d=[],m={};for(let t=0;t<e.length;t++){let r=e[t];r&&(d.push(r),re(r,m))}let h={seq:d,next:te(l),meta:i,scope:s,family:{type:f.type||'crosslink',links:p,owners:u},reg:m};for(let e=0;e<p.length;e++)N(p[e]).push(h);for(let e=0;e<u.length;e++)q(u[e]).push(h);for(let e=0;e<c.length;e++)c[e].next.push(h);return h}function n(e,t){let r=(e,...t)=>r.create(e,t,t);r.graphite=a({meta:ze('event',r,t,e)}),r.create=e=>(he(r,e),e),r.watch=R(je,r),r.map=e=>{let t,a;v(e)&&(t=e,a=e.name,e=e.fn);let o=n(z(r,a),t);return Oe(r,o,'map',e),o},r.filter=e=>k(e)?(console.error('.filter(fn) is deprecated, use .filterMap instead'),o(r,e)):Pe(r,'filter',e.fn,[L({fn:$})]),r.filterMap=R(o,r),r.prepend=e=>{let t=n('* → '+r.shortName,{parent:C(r)}),a=xe();return a&&S(t).seq.push(a.upward),Oe(t,r,'prepend',e),De(r,t),t},Me(r,r);let l=xe();return l&&(S(r).meta.nativeTemplate=l),Ne(r)}function o(e,t){return Pe(e,'filterMap',t,[J({fn:$}),G.defined()])}function l(e,t){function r(e,t){f.off(e),A(f).set(e,Se(Re(e,f,'on',1,t)))}let n=W(e),o=W(e),s=Te('updates'),i=xe();n.after=[{type:'copy',to:o}],i&&i.plain.push(n);let f={subscribers:new Map,updates:s,defaultState:e,stateRef:n,getState(){let e=me();return X(e&&e.reg[n.id]?e.reg[n.id]:n)},setState(e){he({target:f,params:e,defer:1})},reset(...e){for(let t of e)f.on(t,()=>f.defaultState);return f},on(e,t){if(Array.isArray(e))for(let a of e)r(a,t);else r(e,t);return f},off(e){let t=A(f).get(e);return t&&(t(),A(f).delete(e)),f},map(e,t){let r,a,o;v(e)&&(r=e,a=e.name,t=e.firstState,e=e.fn);let s=f.getState(),i=xe();i?o=null:void 0!==s&&(o=e(s,t));let c=l(o,{name:z(f,a),config:r,strict:0}),p=Re(f,c,'map',0,e);return x(c).before=[{type:'map',fn:e,from:n}],i&&(i.plain.includes(n)||p.seq.includes(i.loader)||p.seq.unshift(i.loader)),c},[T]:()=>Me(f,{})};return f.graphite=a({scope:{state:n},node:[G.defined(),U({store:n}),G.changed({store:o}),U({store:o})],child:s,meta:ze('store',f,t)}),Ce&&void 0===e&&b("current state can't be undefined, use null instead"),i&&(S(f).meta.nativeTemplate=i),f.watch=f.subscribe=(e,t)=>{if(!t||!p(e)){k(e)||b('watch requires function handler');let t=xe();return t?t.watch.push({of:n,fn:e}):e(f.getState()),je(f,e)}return k(t)||b('second argument should be a function'),e.watch(e=>t(f.getState(),e))},ee(f,[s]),Ne(f)}function s(...e){let t,r,a;0===e.length&&b('at least one argument required'),E(e[0])&&(a=_(e[0]),e=E(e[0]));let n,o,l=e[e.length-1];if(k(l)?(r=e.slice(0,-1),t=l):r=e,1===r.length){let e=r[0];d(e)||(n=e,o=1)}return o||(n=r,t&&(t=Ie(t))),He(Array.isArray(n),n,a,t)}function i(e,t){let r=n(e,t),s=r.defaultConfig.handler||(()=>(console.error("no handler used in "+r.getType()),Promise.resolve()));S(r).meta.onCopy=['runner'],S(r).meta.unit=r.kind='effect',r.use=e=>(s=e,r);let i=r.finally=Te('finally'),f=r.done=o(i,{named:'done',fn({status:e,params:t,result:r}){if('done'===e)return{params:t,result:r}}}),c=r.fail=o(i,{named:'fail',fn({status:e,params:t,error:r}){if('fail'===e)return{params:t,error:r}}}),p=r.doneData=f.map({named:'doneData',fn:({result:e})=>e}),u=r.failData=c.map({named:'failData',fn:({error:e})=>e}),d=a({scope:{getHandler:r.use.getCurrent=()=>s,finally:i},node:[Q({fn({params:e,req:t},{finally:r,getHandler:a},{page:n}){let o,l=Ke({params:e,req:t,ok:1,anyway:r,page:n}),s=Ke({params:e,req:t,ok:0,anyway:r,page:n});try{o=a()(e)}catch(e){return void s(e)}v(o)&&k(o.then)?o.then(l,s):l(o)}})],meta:{op:'fx',fx:'runner',onCopy:['finally']}});S(r).scope.runner=d,S(r).seq.push(J({fn:(e,t,r)=>C(r)?{params:e,req:{rs(e){},rj(e){}}}:e}),Q({fn:(e,{runner:t})=>(he({target:t,params:e,defer:1}),e.params)})),r.create=e=>{let t=(()=>{let e={};return e.req=new Promise((t,r)=>{e.rs=t,e.rj=r}),e.req.catch(()=>{}),e})();return he(r,{params:e,req:t}),t.req};let m=r.inFlight=l(0,{named:'inFlight'}).on(r,e=>e+1).on(i,e=>e-1),h=r.pending=m.map({fn:e=>e>0,named:'pending'});return ee(r,[i,f,c,p,u,h,m,d]),r}function f(...e){let t,r,o;E(e[0])&&(o=_(e[0]),e=E(e[0]));let[s,i,f,c=0]=e;void 0===i&&'source'in s&&('clock'in s&&null==s.clock&&b('config.clock should be defined'),i=s.clock,f=s.fn,c=s.greedy,t=s.target,r=s.name,s=s.source),void 0===i&&(i=s),r=o||r||s.shortName,s=Je(s),i=Je(i),'boolean'==typeof f&&(c=f,f=null);let u=xe(),m=!!t;t||(d(s)&&d(i)?t=l(f?f(X(x(s)),X(x(i))):X(x(s)),{name:r}):(t=n(r),u&&S(t).seq.push(u.loader)));let h=m&&p(t)&&S(t).meta.nativeTemplate;if(d(s))ee(s,[_e(i,t,{scope:{fn:f,targetTemplate:h},node:[u&&u.loader,!c&&K({priority:'sampler'}),B({store:x(s),to:f?'a':'stack'}),f&&J({fn:Z}),u&&m&&u.upward],meta:{op:'sample',sample:'store'}})]);else{let e=W(0),r=W(),n=W();u&&u.plain.push(e,r,n),Ne(a({parent:s,node:[U({store:r}),B({from:'value',store:1,target:e})],family:{owners:[s,t,i],links:t},meta:{op:'sample',sample:'source'}})),ee(s,[_e(i,t,{scope:{fn:f,targetTemplate:h},node:[u&&u.loader,U({store:n}),B({store:e}),L({fn:e=>e}),!c&&K({priority:'sampler'}),B({store:r}),B({store:n,to:'a'}),f&&J({fn:Y}),u&&m&&u.upward],meta:{op:'sample',sample:'clock'}})])}return t}function c(e,t,r){if(d(e))return e;if(p(e)){let a,n=C(e);return m(e)&&(a=l(t,{parent:n,name:e.shortName,"ɔ":r}).on(e,(e,t)=>t)),h(e)&&(a=l(t,{parent:n,name:e.shortName,"ɔ":r}).on(e.done,(e,{result:t})=>t)),n&&n.hooks.store(a),a}let a={};return Fe(e,(e,t)=>{a[t]=d(e)?e:l(e,{name:t})}),a}let p=e=>(k(e)||v(e))&&'kind'in e;const u=e=>t=>p(t)&&t.kind===e;let d=u("store"),m=u("event"),h=u("effect"),g=u("domain");var y={__proto__:null,unit:p,store:d,event:m,effect:h,domain:g};let b=e=>{throw Error(e)},v=e=>'object'==typeof e&&null!==e,k=e=>'function'==typeof e,w=e=>{v(e)||k(e)||b('expect value to be an object')},S=e=>e.graphite||e,N=e=>e.family.owners,q=e=>e.family.links,x=e=>e.stateRef,_=e=>e.config,E=e=>e.ɔ,j=e=>e.value,A=e=>e.subscribers,C=e=>e.parent,D=(e,t)=>''+e.shortName+t,z=(e,t)=>null==t?D(e,' → *'):t;var T=(()=>{var e,t=('undefined'!=typeof self?self:'undefined'!=typeof window?window:'undefined'!=typeof global?global:'undefined'!=typeof module?module:Function("","return this")()).Symbol;return'function'==typeof t?t.observable?e=t.observable:(e=t('observable'),t.observable=e):e='@@observable',e})();const O=()=>{let e=0;return()=>(++e).toString(36)};let P=O(),M=O(),R=(e,t)=>e.bind(null,t),F=(e,t,r)=>e.bind(null,t,r);const I=(e,t,r)=>({id:M(),type:e,data:r,hasRef:t});let H=0,K=({priority:e="barrier"})=>I('barrier',0,{barrierID:++H,priority:e}),B=({from:e="store",store:t,target:r,to:a=(r?'store':'stack')})=>I('mov','store'===e,{from:e,store:t,to:a,target:r}),G={defined:()=>I('check',0,{type:'defined'}),changed:({store:e})=>I('check',1,{type:'changed',store:e})},J=F(I,'compute',0),L=F(I,'filter',0),Q=F(I,'run',0),U=({store:e})=>B({from:'stack',target:e});var V={__proto__:null,barrier:K,mov:B,check:G,compute:J,filter:L,run:Q,update:U};let W=e=>({id:M(),current:e}),X=({current:e})=>e,Y=(e,{fn:t},{a:r})=>t(e,r),Z=(e,{fn:t},{a:r})=>t(r,e),$=(e,{fn:t})=>t(e),ee=(e,t)=>{let r=S(e);for(let e=0;e<t.length;e++){let a=S(t[e]);'domain'!==r.family.type&&(a.family.type='crosslink'),N(a).push(r),q(r).push(a)}};const te=(e=[])=>{let t=[];if(Array.isArray(e))for(let r=0;r<e.length;r++)Array.isArray(e[r])?t.push(...e[r]):t.push(e[r]);else t.push(e);return t.map(S)};let re=({hasRef:e,type:t,data:r},a)=>{let n;e&&(n=r.store,a[n.id]=n),'mov'===t&&'store'===r.to&&(n=r.target,a[n.id]=n)},ae=null;const ne=(e,t)=>{if(!e)return t;if(!t)return e;let r,a=e.v.type===t.v.type;return(a&&e.v.id>t.v.id||!a&&'sampler'===e.v.type)&&(r=e,e=t,t=r),r=ne(e.r,t),e.r=e.l,e.l=r,e},oe=[];let le=0;for(;le<5;)oe.push({first:null,last:null,size:0}),le+=1;const se=()=>{for(let e=0;e<5;e++){let t=oe[e];if(t.size>0){if(2===e||3===e){t.size-=1;let e=ae.v;return ae=ne(ae.l,ae.r),e}1===t.size&&(t.last=null);let r=t.first;return t.first=r.r,t.size-=1,r.v}}},ie=(e,t,r,a,n)=>fe(0,{a:null,b:null,node:r,parent:a,value:n,page:t},e),fe=(e,t,r,a=0)=>{let n=ce(r),o=oe[n],l={v:{idx:e,stack:t,type:r,id:a},l:0,r:0};2===n||3===n?ae=ne(ae,l):(0===o.size?o.first=l:o.last.r=l,o.last=l),o.size+=1},ce=e=>{switch(e){case'child':return 0;case'pure':return 1;case'barrier':return 2;case'sampler':return 3;case'effect':return 4;default:return-1}},pe=new Set;let ue=0,de=null,me=()=>de,he=(e,t,r)=>{let a=de,n=null;if(e.target&&(t=e.params,r=e.defer,a='page'in e?e.page:a,e.stack&&(n=e.stack),e=e.target),Array.isArray(e))for(let r=0;r<e.length;r++)ie('pure',a,S(e[r]),n,t[r]);else ie('pure',a,S(e),n,t);r&&ue||(()=>{let e,t,r,a,n,o,l={alreadyStarted:ue,currentPage:de};ue=1;e:for(;a=se();){let{idx:l,stack:s,type:i}=a;r=s.node,de=n=s.page,o=(n||r).reg;let f={fail:0,scope:r.scope};e=t=0;for(let a=l;a<r.seq.length&&!e;a++){let c=r.seq[a],p=c.data;switch(c.type){case'barrier':{let e=p.barrierID;n&&(e=n.fullID+"_"+e);let t=p.priority;if(a!==l||i!==t){pe.has(e)||(pe.add(e),fe(a,s,t,e));continue e}pe.delete(e);break}case'mov':{let e;switch(p.from){case'stack':e=j(s);break;case'a':e=s.a;break;case'b':e=s.b;break;case'value':e=p.store;break;case'store':o[p.store.id]||(s.page=n=null,o=r.reg),e=X(o[p.store.id])}switch(p.to){case'stack':s.value=e;break;case'a':s.a=e;break;case'b':s.b=e;break;case'store':o[p.target.id].current=e}break}case'check':switch(p.type){case'defined':t=void 0===j(s);break;case'changed':t=j(s)===X(o[p.store.id])}break;case'filter':t=!ge(f,p,s);break;case'run':if(a!==l||'effect'!==i){fe(a,s,'effect');continue e}case'compute':s.value=ge(f,p,s)}e=f.fail||t}if(!e)for(let e=0;e<r.next.length;e++)ie('child',n,r.next[e],s,j(s))}ue=l.alreadyStarted,de=l.currentPage})()};const ge=(e,{fn:t},r)=>{try{return t(j(r),e.scope,r)}catch(t){console.error(t),e.fail=1}},ye=(e,t)=>{let r=e.indexOf(t);-1!==r&&e.splice(r,1)},be=(e,t)=>{ye(e.next,t),ye(N(e),t),ye(q(e),t)},ve=(e,t,r)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=q(e);for(;a=n.pop();)be(a,e),(t||r&&!e.meta.sample||'crosslink'===a.family.type)&&ve(a,t,r);for(n=N(e);a=n.pop();)be(a,e),r&&'crosslink'===a.family.type&&ve(a,t,r)},ke=e=>e.clear();let we=(e,{deep:t}={})=>{let r=0;if(e.ownerSet&&e.ownerSet.delete(e),d(e))ke(A(e));else if(g(e)){r=1;let t=e.history;ke(t.events),ke(t.effects),ke(t.stores),ke(t.domains)}ve(S(e),!!t,r)},Se=e=>{let t=F(we,e,void 0);return t.unsubscribe=t,t},Ne=e=>(qe&&ee(j(qe),[e]),e),qe=null,xe=()=>qe&&qe.template,_e=(e,t,{node:r,scope:n,meta:o})=>Ne(a({node:r,parent:e,child:t,scope:n,meta:o,family:{owners:[e,t],links:t}})),Ee=e=>{let t;E(e)&&(t=_(e),e=E(e));let{from:r,to:n,meta:o={op:'forward'}}=e;return r&&n||b('from and to fields should be defined'),t&&(o.config=t),Se(Ne(a({parent:r,child:n,meta:o,family:{}})))},je=(e,t)=>Se(Ne(a({scope:{fn:t},node:[Q({fn:$})],parent:e,meta:{op:'watch'},family:{owners:e}})));const Ae=(e,t)=>(v(e)&&(Ae(_(e),t),null!=e.name&&(v(e.name)?Ae(e.name,t):t.name=e.name),e.loc&&(t.loc=e.loc),e.sid&&(t.sid=e.sid),e.handler&&(t.handler=e.handler),C(e)&&(t.parent=C(e)),'strict'in e&&(t.strict=e.strict),e.named&&(t.named=e.named),Ae(E(e),t)),t);let Ce,De=(e,t)=>{C(e)&&C(e).hooks.event(t)},ze=(e,t,a,n)=>{let o=Ae({name:n,config:a},{}),l=P(),{parent:s=null,sid:i=null,strict:f=1,named:c=null}=o,p=c||o.name||('domain'===e?'':l),u=r(p,s);return t.kind=e,t.id=l,t.sid=i,t.shortName=p,t.parent=s,t.compositeName=u,t.defaultConfig=o,t.thru=e=>e(t),t.getType=()=>u.fullName,Ce=f,{unit:e,name:p,sid:i,named:c}},Te=e=>n({named:e});const Oe=(e,t,r,a)=>_e(e,t,{scope:{fn:a},node:[J({fn:$})],meta:{op:r}}),Pe=(e,t,r,a)=>{let o;v(r)&&(o=r,r=r.fn);let l=n(D(e,' →? *'),o);return _e(e,l,{scope:{fn:r},node:a,meta:{op:t}}),l},Me=(e,t)=>(t.subscribe=t=>(w(t),e.watch(e=>{t.next&&t.next(e)})),t[T]=()=>t,t),Re=(e,t,r,a,n)=>{let o=x(t),l=[B({store:o,to:'a'}),J({fn:a?Z:Y}),G.defined(),G.changed({store:o}),U({store:o})],s=xe();if(s&&(l.unshift(s.loader),d(e))){let t=x(e);s.plain.includes(t)||(s.closure.includes(t)||s.closure.push(t),o.before||(o.before=[]),o.before.push({type:'closure',of:t}))}return _e(e,t,{scope:{fn:n},node:l,meta:{op:r}})};let Fe=(e,t)=>{for(let r in e)t(e[r],r)};const Ie=e=>t=>e(...t),He=(e,r,a,n)=>{let o=e?e=>e.slice():e=>Object.assign({},e),s=e?[]:{},i=xe(),f=o(s),c=W(f),p=W(1);c.type=e?'list':'shape',i&&i.plain.push(c,p);let u=l(f,{name:a||t(r)}),m=[G.defined(),B({store:c,to:'a'}),L({fn:(e,{key:t},{a:r})=>e!==r[t]}),B({store:p,to:'b'}),J({fn(e,{clone:t,key:r},a){a.b&&(a.a=t(a.a)),a.a[r]=e}}),B({from:'a',target:c}),B({from:'value',store:0,target:p}),K({priority:'barrier'}),B({from:'value',store:1,target:p}),B({store:c}),n&&J({fn:n}),G.changed({store:x(u)})],h=c.before=[];return Fe(r,(e,t)=>{if(!d(e))return void(f[t]=s[t]=e);s[t]=e.defaultState,f[t]=e.getState();let r=_e(e,u,{scope:{key:t,clone:o},node:m,meta:{op:'combine'}}),a=x(e);h.push({type:'field',field:t,from:a}),i&&(i.plain.includes(a)||r.seq.unshift(i.loader))}),u.defaultShape=r,c.after=[n?{type:'map',to:x(u),fn:n}:{type:'copy',to:x(u)}],i||(u.defaultState=n?x(u).current=n(f):s),u};let Ke=({params:e,req:t,ok:r,anyway:a,page:n})=>o=>he({target:[a,Be],params:[r?{status:'done',params:e,result:o}:{status:'fail',params:e,error:o},{fn:r?t.rs:t.rj,value:o}],defer:1,page:n});const Be=a({node:[Q({fn({fn:e,value:t}){e(t)}})],meta:{op:'fx',fx:'sidechain'}}),Ge=(e,t,r)=>(e.watch(e=>{ee(r,[e]),t.add(e),e.ownerSet||(e.ownerSet=t),C(e)||(e.parent=r)}),ee(r,[e]),r=>(t.forEach(r),e.watch(r)));let Je=e=>p(e)?e:s(e);var Le={__proto__:null,filterChanged:L({fn:(e,{state:t})=>void 0!==e&&e!==X(t)}),noop:J({fn:e=>e})};e.Kind={__proto__:null,store:"store",event:"event",effect:"effect",domain:"domain"},e.attach=({source:e,effect:t,mapParams:r})=>{let a,n=i(),{runner:o}=S(n).scope,l=({params:e,req:t},{finally:a,effect:n},{a:o,page:l})=>he({target:n,params:{params:r(e,o),req:{rs:Ke({params:e,req:t,ok:1,anyway:a,page:l}),rj:Ke({params:e,req:t,ok:0,anyway:a,page:l})}},page:l,defer:1});if(e){let t;d(e)?t=e:(t=s(e),ee(n,[t]));let r=B({from:'store',store:x(t),to:'a'});a=[Q({fn:e=>e}),r,J({fn:l})],re(r,o.reg)}else a=[Q({fn:l})];return o.scope.effect=t,o.meta.onCopy.push('effect'),o.seq.splice(0,1,...a),De(t,n),n},e.blocks=Le,e.clearNode=we,e.combine=s,e.createApi=(e,t)=>{let r={};return Fe(t,(t,a)=>{let o=r[a]=n(a,{parent:C(e)});e.on(o,t),De(e,o)}),r},e.createDomain=function e(t,r){let o=new Set,s=new Set,f=new Set,c=new Set,p=a({family:{type:'domain'}}),u={history:{domains:o,stores:s,effects:f,events:c},graphite:p};p.meta=ze('domain',u,r,t);let[d,m,h,g]=['onEvent','onEffect','onStore','onDomain'].map(Te);u.hooks={event:d,effect:m,store:h,domain:g},u.onCreateEvent=Ge(d,c,u),u.onCreateEffect=Ge(m,f,u),u.onCreateStore=Ge(h,s,u),u.onCreateDomain=Ge(g,o,u),u.createEvent=u.event=(e,t)=>d(n(e,{parent:u,config:t})),u.createEffect=u.effect=(e,t)=>m(i(e,{parent:u,config:t})),u.createDomain=u.domain=(t,r)=>e({name:t,parent:u,config:r}),u.createStore=u.store=(e,t)=>h(l(e,{parent:u,config:t})),Ne(u);let y=C(u);return y&&(Fe(u.hooks,(e,t)=>{Ee({from:e,to:y.hooks[t]})}),y.hooks.domain(u)),u},e.createEffect=i,e.createEvent=n,e.createNode=a,e.createStore=l,e.createStoreObject=s,e.forward=Ee,e.fromObservable=e=>{w(e);let t=T in e?e[T]():e;t.subscribe||b('expect observable to have .subscribe');let r=n(),a=F(we,r,void 0);return t.subscribe({next:r,error:a,complete:a}),r},e.guard=(e,t)=>{let r={op:'guard'};E(e)&&(r.config=_(e),[e,t]=E(e)),t||(e=(t=e).source);let{filter:o,greedy:l,name:i="guard"}=t,c=t.target||n(i);return p(e)||(e=s(e)),p(o)?f({source:o,clock:e,target:Ne(a({node:[L({fn:({guard:e})=>e}),J({fn:({data:e})=>e})],child:c,meta:r,family:{owners:[e,o,c],links:c}})),fn:(e,t)=>({guard:e,data:t}),greedy:l,name:i}):(k(o)||b('`filter` should be function or unit'),_e(e,c,{scope:{fn:o},node:[L({fn:$})],meta:r})),c},e.is=y,e.launch=he,e.merge=e=>{let r=n(t(e,'merge'));return Ee({from:e,to:r,meta:{op:'merge'}}),r},e.restore=c,e.restoreEffect=c,e.restoreEvent=c,e.restoreObject=c,e.sample=f,e.setStoreName=(e,t)=>{let a=r(t,C(e));if(e.shortName=t,!e.compositeName)return void(e.compositeName=a);let n=e.compositeName;n.path=a.path,n.shortName=a.shortName,n.fullName=a.fullName},e.split=(e,t)=>{let r={},a=d(e)?e.updates:e;return Fe(t,(e,t)=>{r[t]=a.filter({fn:e}),a=a.filter({fn:t=>!e(t)})}),r.__=a,r},e.step=V,e.version="20.15.0",e.withRegion=(e,t)=>{qe={parent:qe,value:e,template:S(e).meta.template||qe&&qe.template};try{return t()}finally{qe=C(qe)}},Object.defineProperty(e,'__esModule',{value:1})});
//# sourceMappingURL=effector.umd.js.map
